# Lambda (paw) expressions test

meow test_lambda_with_lick() {
  nyan nums = [1, 2, 3, 4, 5]
  nyan doubled = lick(nums, paw(x int) { x * 2 })
  expect(doubled, [2, 4, 6, 8, 10])
}

meow test_lambda_with_picky() {
  nyan nums = [1, 2, 3, 4, 5, 6]
  nyan odds = picky(nums, paw(x int) { x % 2 != 0 })
  expect(odds, [1, 3, 5])
}

meow test_lambda_with_curl() {
  nyan nums = [1, 2, 3, 4]
  nyan product = curl(nums, 1, paw(acc int, x int) { acc * x })
  expect(product, 24)
}

meow test_lambda_with_pipe() {
  nyan result = [1, 2, 3] |=| lick(paw(x int) { x + 10 })
  expect(result, [11, 12, 13])
}

meow test_lambda_with_error_recovery() {
  nyan result = gag(paw() { 42 })
  expect(result, 42)
}

meow test_lambda_chained_operations() {
  nyan nums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
  nyan result = nums |=| picky(paw(x int) { x > 5 }) |=| lick(paw(x int) { x * 2 })
  expect(result, [12, 14, 16, 18, 20])
}
